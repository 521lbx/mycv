var clog=function(objdata){var obj={url:"https://testlog.leanapp.cn/testlog",method:"post",data:{'testkey':''+objdata},timeout:5000,success:function(){},error:function(){},async:true};console.log(obj);obj.data=(function(data){var arr=[];for(var i in data){arr.push(encodeURIComponent(i)+'='+encodeURIComponent(data[i]))}return arr.join('&')})(obj.data);console.log(obj.data);var requestDone=false;setTimeout(function(){requestDone=true},obj.timeout);$xmlhttp=new XMLHttpRequest();function callback(){if($xmlhttp.status==200){obj.success($xmlhttp.responseText)}else{obj.error($xmlhttp.status,$xmlhttp.statusText)}}if(obj.data!==''&&obj.method==='get'){obj.url+=obj.url.indexOf('?')==-1?'?'+obj.data:'&'+obj.data}$xmlhttp.open(obj.method,obj.url,obj.async);if(obj.method==='post'){$xmlhttp.setRequestHeader('Content-Type','application/x-www-form-urlencoded');$xmlhttp.send(obj.data)}else{$xmlhttp.send(null)}if(obj.async===true){$xmlhttp.onreadystatechange=function(){if($xmlhttp.readyState==4&&!requestDone){callback()}}}else{callback()}};